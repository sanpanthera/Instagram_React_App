{"version":3,"sources":["data/posts.js","redux/reducer.js","Components/Photo.js","Components/Photowall.js","Components/AddPhoto.js","Components/Comments.js","Components/Single.js","Components/Main.js","database/config.js","redux/actions.js","Components/App.js","index.js"],"names":["posts","id","description","imageLink","rootReducer","combineReducers","state","arguments","length","undefined","_posts","action","type","concat","Object","toConsumableArray","slice","index","post","comments","postId","objectSpread","defineProperty","comment","Photo","props","react_default","a","createElement","className","react_router_dom","to","src","alt","onClick","startRemovingPost","history","push","PhotoWall","sort","x","y","map","Components_Photo","assign","key","AddPhoto","handleSubmit","event","preventDefault","target","elements","link","value","Number","Date","_this","startAddingPost","onHistory","onSubmit","this","placeholder","name","Component","Comments","addComment","hidden","Single","_this$props","match","params","find","findIndex","loading","Components_Comments","startSavingComments","Main","_this2","startLoadingPost","then","setState","startLoadingComments","_this3","react_router","exact","path","render","Photowall","_ref","Components_AddPhoto","Components_Single","firebase","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","database","dispatch","ref","update","addPost","catch","error","console","log","once","snapshot","forEach","childSnapshot","val","loadPosts","remove","removePost","values","loadComments","App","withRouter","connect","bindActionCreators","actions","enhancer","compose","applyMiddleware","thunk","window","__REDUX_DEVTOOLS_EXTENSION__","store","createStore","ReactDOM","es","Components_App","document","getElementById"],"mappings":"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","file":"static/js/main.586bbe22.chunk.js","sourcesContent":["\nconst posts = [{\n    id: 0,\n    description: \"beautiful landscape\",\n    imageLink: \"https://image.jimcdn.com/app/cms/image/transf/none/path/sa6549607c78f5c11/image/i4eeacaa2dbf12d6d/version/1490299332/most-beautiful-landscapes-in-europe-lofoten-european-best-destinations-copyright-iakov-kalinin.jpg\" +\n        \"3919321_1443393332_n.jpg\"\n  }, {\n    id: 1,\n    description: \"Aliens???\",\n    imageLink: \"https://img.purch.com/rc/640x415/aHR0cDovL3d3dy5zcGFjZS5jb20vaW1hZ2VzL2kvMDAwLzA3Mi84NTEvb3JpZ2luYWwvc3BhY2V4LWlyaWRpdW00LWxhdW5jaC10YXJpcS1tYWxpay5qcGc=\" +\n        \"08323785_735653395_n.jpg\"\n  }, {\n    id: 2,\n    description: \"On a vacation!\",\n    imageLink: \"https://fm.cnbc.com/applications/cnbc.com/resources/img/editorial/2017/08/24/104670887-VacationExplainsTHUMBWEB.1910x1000.jpg\"\n  }]\n\n  export default posts","import _posts from '../data/posts';\nimport { combineReducers } from 'redux';\n\nfunction comments(state = {}, action) {\n    switch (action.type) {\n        case 'ADD_COMMENT':\n            if (!state[action.postId]) {\n                return { ...state, [action.postId]: [action.comment] };\n            } else {\n                return { ...state, [action.postId]: [...state[action.postId], action.comment] };\n            }\n        case 'LOAD_COMMENTS': return action.comments;\n        default: return state;\n    }\n}\n\nfunction posts(state = _posts, action) {\n    switch (action.type) {\n        case 'REMOVE_POST': return [...state.slice(0, action.index), ...state.slice(action.index + 1)];\n        case 'ADD_POST': return [...state, action.post];\n        case 'LOAD_POSTS': \n        {\n            return action.posts;\n        }\n        default: return state;\n    }\n}\n\nconst rootReducer = combineReducers({ posts, comments });\n\nexport default rootReducer;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from 'react-router-dom';\n\nfunction Photo(props) {\n    const post = props.post\n    return <figure className=\"figure\">\n        <Link to={`/single/${post.id}`}> <img className=\"photo\" src={post.imageLink} alt={post.description} /></Link>\n        <figcaption> <p> {post.description} </p> </figcaption>\n        <div className=\"button-container\">\n            <button onClick={() => {\n                props.startRemovingPost(props.index,post.id)\n                props.history.push('/')\n            }}> Remove </button>\n            <Link className=\"button\" to={`/single/${post.id}`}>\n                <div className=\"comment-count\">\n                    <div className=\"speech-bubble\"> </div>\n                    {props.comments[post.id] ? props.comments[post.id].length : 0}\n                </div>\n            </Link>\n        </div>\n    </figure>\n}\n\nPhoto.propTypes = {\n    post: PropTypes.object.isRequired,\n}\n\nexport default Photo;\n","import React from 'react';\nimport Photo from './Photo';\nimport PropTypes from 'prop-types';\nimport { Link } from 'react-router-dom';\n\n//anchor tag, href attribute\nfunction PhotoWall(props) {\n    return <div>\n        <Link className=\"addIcon\" to=\"/AddPhoto\"> </Link>\n        <div className=\"photoGrid\" >\n            {props.posts\n                .sort(function (x, y) {\n                    return y.id - x.id\n                })\n                .map((post, index) => <Photo key={index} post={post} {...props} index={index} />)}\n        </div>\n    </div>\n}\n\nPhotoWall.propTypes = {\n    posts: PropTypes.array.isRequired,\n};\n\nexport default PhotoWall;","import React, { Component } from 'react';\n\nclass AddPhoto extends Component {\n    handleSubmit = event => {\n        event.preventDefault();\n        const imageLink = event.target.elements.link.value;\n        const description = event.target.elements.description.value;\n        const post = {\n            id: Number(new Date()),\n            description: description,\n            imageLink: imageLink\n        };\n        if (description && imageLink) {\n            this.props.startAddingPost(post);\n            this.props.onHistory.push('/');\n        }\n    }\n\n    render() {\n        return (\n            <div className=\"form\">\n                <form onSubmit={this.handleSubmit}>\n                    <input type=\"text\" placeholder=\"Link\" name=\"link\" />\n                    <input type=\"text\" placeholder=\"Desciption\" name=\"description\" />\n                    <button> Post </button>\n                </form>\n            </div>\n        )\n    }\n}\n\nexport default AddPhoto","import React, { Component } from 'react';\n\nclass Comments extends Component {\n\n    handleSubmit = event => {\n        event.preventDefault();\n        const comment = event.target.elements.comment.value;\n        this.props.addComment(comment, this.props.id);\n        event.target.elements.comment.value = '';\n    }\n\n    render() {\n        return <div className=\"comment\">\n            {\n                this.props.comments.map((comment, index) => {\n                    return (\n                        <p key={index}> {comment} </p>\n                    )\n                })\n            }\n            <form className=\"comment-form\" onSubmit={this.handleSubmit}>\n                <input type=\"text\" placeholder=\"comment\" name=\"comment\" />\n                <input type=\"submit\" hidden />\n            </form>\n        </div>\n    }\n}\n\nexport default Comments;","import React, { Component } from 'react';\nimport Photo from './Photo';\nimport Comments from './Comments';\n\nclass Single extends Component {\n    render() {\n        const { match, posts } = this.props;\n        const id = Number(match.params.id);\n        const post = posts.find((post) => post.id === id);\n        const comments = this.props.comments[match.params.id] || [];\n        const index = this.props.posts.findIndex((post) => post.id === id);\n\n        if(this.props.loading){\n            return <div className=\"loader\">Loading...</div>\n        }\n        else if(post){\n        return <div className='single-photo'>\n            <Photo post={post} {...this.props} index={index} />\n            <Comments addComment={this.props.startSavingComments} comments={comments} id={id} />\n        </div>\n        }\n        else{\n            return <h1>No Post Found</h1>\n        }\n    }\n}\n\nexport default Single;","import React, { Component } from 'react';\nimport PhotoWall from './Photowall';\nimport AddPhoto from './AddPhoto';\nimport { Route, Link } from 'react-router-dom';\nimport Single from './Single';\n\nclass Main extends Component {\n\n    state = {loading:true}\n\n    componentDidMount()\n    {\n        this.props.startLoadingPost().then(()=>{\n            this.setState({loading:false});\n        });\n        this.props.startLoadingComments();\n    }\n\n    render() {\n        return (\n            <div>\n                <h1>\n                    <Link to=\"/\"> Picture Album </Link>\n                </h1>\n                <Route exact path=\"/\" render={() => (\n                    <div>\n                        <PhotoWall {...this.props} />\n                    </div>\n                )} />\n\n                <Route path=\"/AddPhoto\" render={({ history }) => (\n                    <AddPhoto {...this.props} onHistory={history} />\n                )} />\n\n                <Route path=\"/single/:id\" render={(params) => (\n                    <Single loading={this.state.loading} {...this.props} {...params} />\n                )} />\n            </div>\n        )\n    }\n}\n\nexport default Main;","import * as firebase from 'firebase';\r\n\r\nconst config = {\r\n    apiKey: \"AIzaSyAywukLHqn9IWkiX3t7i3ItFx4C7oBquFk\",\r\n    authDomain: \"picturealbum-98939.firebaseapp.com\",\r\n    databaseURL: \"https://picturealbum-98939.firebaseio.com\",\r\n    projectId: \"picturealbum-98939\",\r\n    storageBucket: \"picturealbum-98939.appspot.com\",\r\n    messagingSenderId: \"93094101014\",\r\n    appId: \"1:93094101014:web:c2498984bc3e7a1f\"\r\n  };\r\n\r\n\r\n  firebase.initializeApp(config);\r\n\r\n  const database = firebase.database();\r\n\r\n  export {database};","import {database} from '../database/config';\n\n//remove\nexport const startAddingPost = post =>{\n    return (dispatch) => {\n        return database.ref('posts').update({[post.id]:post}).then(()=>{\n            dispatch(addPost(post));\n        })\n        .catch( error =>{\n            console.log(error);\n        })\n    }\n}\n\nexport const startLoadingPost = () =>\n{\n    return (dispatch) => {\n        return database.ref('posts').once('value').then(snapshot=> {\n            let posts = [];\n            snapshot.forEach(childSnapshot => {\n                posts.push(childSnapshot.val());\n            });\n\n            dispatch(loadPosts(posts));\n        }).catch( error =>{\n            console.log(error);\n        })\n    }\n}\n\nexport const startRemovingPost = (index,id) => {\n    return (dispatch) => {\n        return database.ref(`posts/${id}`).remove().then(() => {\n            return database.ref(`comments/${id}`).remove().then(()=>{\n                dispatch(removePost(index));\n\n            })\n           }).catch( error =>{\n            console.log(error);\n        })\n    }\n}\n\nexport const startSavingComments = (comment, postId) =>{\n    return (dispatch) => {\n        return database.ref(`comments/${postId}`).push(comment).then(()=>{\n            dispatch(addComment(comment, postId));\n        })\n        .catch( error =>{\n            console.log(error);\n        })\n    }\n}\n\nexport const startLoadingComments = () => {\n    return (dispatch) => {\n        return database.ref('comments').once('value').then(snapshot=> {\n            let comments = {};\n            snapshot.forEach(childSnapshot => {\n                comments[childSnapshot.key] = Object.values(childSnapshot.val());\n            });\n\n            dispatch(loadComments(comments));\n        }).catch( error =>{\n            console.log(error);\n        })\n    }\n}\n\nexport const removePost = index => ({ \n    type: 'REMOVE_POST',\n    index \n});\n\n\n//adding post\nexport const addPost = post =>({\n    type: 'ADD_POST',\n    post\n});\n\nexport const addComment = (comment, postId) =>({\n    type: 'ADD_COMMENT',\n    comment,\n    postId\n});\n\n\nexport const loadPosts = posts =>({\n    type: 'LOAD_POSTS',\n    posts\n});\n\nexport const loadComments = comments => ({\n    type: 'LOAD_COMMENTS',\n    comments\n})","\nimport Main from './Main';\nimport {connect} from 'react-redux';\nimport {bindActionCreators} from 'redux';\nimport * as actions from '../redux/actions';\nimport {withRouter} from 'react-router';\n\nconst mapStateToProps = state => ( { posts: state.posts, comments: state.comments } );\n\nconst mapDispatchToProps = dispatch => bindActionCreators(actions, dispatch);\n\nconst App = withRouter(connect(mapStateToProps, mapDispatchToProps)(Main));\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './styles/stylesheet.css';\nimport {BrowserRouter} from 'react-router-dom';\nimport {createStore, applyMiddleware,compose} from 'redux';\nimport rootReducer from './redux/reducer';\nimport {Provider} from 'react-redux';\nimport App from './Components/App';\nimport thunk from 'redux-thunk';\n\nconst enhancer = compose(\n    applyMiddleware(thunk),\n    window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\n  );\n\nconst store = createStore(rootReducer, enhancer);\n\nReactDOM.render(<Provider store={store}><BrowserRouter><App/></BrowserRouter></Provider>, document.getElementById('root'));"],"sourceRoot":""}